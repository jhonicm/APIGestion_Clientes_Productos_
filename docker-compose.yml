services:
  api:
    build:
      context: ./api
      dockerfile: Dockerfile
    ports:
      - "8080:8080"
    environment:
      - AZURE_SQL_SERVER=sistema-ventas-2025.database.windows.net
      - AZURE_SQL_DATABASE=GestionPedidos
      - AZURE_SQL_USERNAME=radicaluser@sistema-ventas-2025
      - AZURE_SQL_PASSWORD=05122004Jhon
      - AZURE_SQL_DRIVER=ODBC Driver 17 for SQL Server
      - PORT=8080
    volumes:
      - ./api:/app
    networks:
      - radical_k9_network
  
  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    ports:
      - "5000:5000"
    environment:
      - API_URL=http://api:8080
      - SECRET_KEY=clave-secreta-radical-k9
    volumes:
      - ./frontend:/app
    depends_on:
      - api
    networks:
      - radical_k9_network

networks:
  radical_k9_network: